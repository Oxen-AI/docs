---
title: "Fine-Tune: Image Generation"
description: "Fine-tune a model to generate an image from text"
---

## Overview

This schema is used for fine-tuning models with **image generation** capabilities.

### Schema Type

When creating a fine-tune with this schema, use:

```json
{
  "resource": "main/your-dataset.parquet",
  "base_model": "<model-canonical-name>",
  "script_type": "image_generation",
  "training_params": {
    ...
  }
}
```

**Key Parameters:**
- `script_type`: `image_generation` (the fine-tune type)
- `base_model`: One of the supported model canonical names below

### Supported Models

- Qwen Image (`Qwen/Qwen-Image`)
- FLUX.1 [dev] (`black-forest-labs/FLUX.1-dev`)
- FLUX.2 [dev] (`black-forest-labs/FLUX.2-dev`)
- Z-Image-Turbo (`Tongyi-MAI/Z-Image-Turbo`)


## Request Schema

### Required Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `batch_size` | integer | No | (default: 1) (min: 1) |
| `caption_column` | string | Yes | caption_column (DataFrame column name) |
| `gradient_accumulation` | integer | No | (default: 1) (min: 1) |
| `image_column` | string | Yes | image_column (DataFrame column name) |
| `learning_rate` | number | No | (default: 0.0002) |
| `lora_alpha` | integer | No | (default: 16) (min: 1) |
| `lora_rank` | integer | No | (default: 16) (min: 1) |
| `sample_every` | integer | No | (default: 200) (min: 1) |
| `samples` | array | No | (array of object) |
| `steps` | integer | No | (default: 2000) (min: 1) |
| `timestep_type` | string | No | (options: weighted, sigmoid, linear) |
| `use_lora` | boolean | No | use_lora |

## Example Request

<CodeGroup>

```json Request Body
{
  "resource": "main/your-dataset.parquet",
  "base_model": "<model-canonical-name>",
  "script_type": "image_generation",
  "training_params": {
    "batch_size": 1,
    "caption_column": "",
    "gradient_accumulation": 1,
    "image_column": "",
    "learning_rate": 0.0002,
    "lora_alpha": 16,
    "lora_rank": 16,
    "sample_every": 200,
    "samples": [
      {
        "prompt": "an ox holding a sign that says 'Oxen.ai'"
      },
      {
        "prompt": "a herd of oxen running in a field"
      }
    ],
    "steps": 2000,
    "timestep_type": "sigmoid",
    "use_lora": true
  }
}
```

```python Python
import requests

url = "https://hub.oxen.ai/api/repos/{namespace}/{repo_name}/fine_tunes"
headers = {
    "Authorization": "Bearer YOUR_API_KEY",
    "Content-Type": "application/json"
}

data = {{
  "resource": "main/your-dataset.parquet",
  "base_model": "<model-canonical-name>",
  "script_type": "image_generation",
  "training_params": {{
    "batch_size": 1,
    "caption_column": "",
    "gradient_accumulation": 1,
    "image_column": "",
    "learning_rate": 0.0002,
    "lora_alpha": 16,
    "lora_rank": 16,
    "sample_every": 200,
    "samples": [
      {{
        "prompt": "an ox holding a sign that says 'Oxen.ai'"
      }},
      {{
        "prompt": "a herd of oxen running in a field"
      }}
    ],
    "steps": 2000,
    "timestep_type": "sigmoid",
    "use_lora": true
  }}
}}

response = requests.post(url, headers=headers, json=data)
print(response.json())
```

```bash cURL
curl -X POST https://hub.oxen.ai/api/repos/{namespace}/{repo_name}/fine_tunes \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{   "resource": "main/your-dataset.parquet",   "base_model": "<model-canonical-name>",   "script_type": "image_generation",   "training_params": {     "batch_size": 1,     "caption_column": "",     "gradient_accumulation": 1,     "image_column": "",     "learning_rate": 0.0002,     "lora_alpha": 16,     "lora_rank": 16,     "sample_every": 200,     "samples": [       {         "prompt": "an ox holding a sign that says 'Oxen.ai'"       },       {         "prompt": "a herd of oxen running in a field"       }     ],     "steps": 2000,     "timestep_type": "sigmoid",     "use_lora": true   } }'
```

</CodeGroup>

## Field Details


### `batch_size`

**Type:** `integer`

**Default:** `1`

**Minimum:** `1`


### `caption_column`

**Type:** `string`

**Default:** `""`


### `gradient_accumulation`

**Type:** `integer`

**Default:** `1`

**Minimum:** `1`


### `image_column`

**Type:** `string`

**Default:** `""`


### `learning_rate`

**Type:** `number`

**Default:** `0.0002`


### `lora_alpha`

**Type:** `integer`

**Default:** `16`

**Minimum:** `1`


### `lora_rank`

**Type:** `integer`

**Default:** `16`

**Minimum:** `1`


### `sample_every`

**Type:** `integer`

**Default:** `200`

**Minimum:** `1`


### `samples`

**Type:** `array`

**Default:** `[{"prompt": "an ox holding a sign that says 'Oxen.ai'"}, {"prompt": "a herd of oxen running in a field"}]`


### `steps`

**Type:** `integer`

**Default:** `2000`

**Minimum:** `1`


### `timestep_type`

**Type:** `string`

**Default:** `"sigmoid"`

**Options:** `weighted`, `sigmoid`, `linear`


### `use_lora`

**Type:** `boolean`

**Default:** `true`

